<?php
// this line is important to get valid HTML generated by ZendX
$this->doctype('XHTML1_TRANSITIONAL');
$this->setEncoding('UTF-8');
$this->headMeta()->appendHttpEquiv('Content-Type', 'text/html; charset=UTF-8');
?>
<!-- code to show external filter possibility and Cmd() chaining -->
<?php $this->jQuery()->onLoadCaptureStart(); ?>
$('#filterPolynesia').bind('change', function() {
    <?=$this->g1
        ->Cmd('setPostDataItem', 'onlyFromPolynesia', new Zend_Json_Expr('$(this).is(":checked")'))
        ->Cmd('trigger', 'reloadGrid');
    ?>
});
<?php $this->jQuery()->onLoadCaptureEnd(); ?>

<?= $this->doctype() . PHP_EOL ?>
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
<?= $this->headTitle("ZFDatagrid jqGrid Examples")->setAutoEscape(false)->setIndent('  ') . PHP_EOL ?>
<?= $this->headMeta()->setIndent('  ') . PHP_EOL ?>
<?= $this->headLink()->setIndent('  ')->prependStylesheet('http://jqueryui.com/themes/base/ui.all.css'); ?>

  <!-- next line will add all necessery JavaScript and CSS includes -->
  <?php echo $this->jQuery();?>

  <!-- add fancy jQuery UI Theme switcher -->
  <script type="text/javascript">
    $(document).ready(function(){
      $('#switcher').themeswitcher();
    });
  </script>
  <!-- end jQuery UI Theme switcher -->
</head>

<body style="font-size:62.5%;">
<a target="_blank" href="<?php echo $this->url(array('action'=>'code')); ?>">Source code for this controller</a> |
<a href="http://www.zfdatagrid.com/blog">Back to blog</a>

<!-- add fancy jQuery UI Theme switcher -->
<script type="text/javascript" src="http://jqueryui.com/themeroller/themeswitchertool/"></script>
<div id="switcher"></div>
<!-- end jQuery UI Theme switcher -->

<h1>Bvb JqGrid Examples</h1>

<h2>JqGrid</h2>
<div>
<?=$this->formCheckbox("filterPolynesia", 0, null, array(1,0));?> Cities Only From Polynesia
</div>
<?=$this->g1;?>

<?php if (isset($this->g1_html)):?>
<h2>HTML Table</h2>
<?=$this->g1_html;?>
<?php endif;?>
</body></html>